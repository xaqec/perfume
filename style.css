/* --- CSS AYARLARI --- */
:root {
    --bg-dark: #050505;
    --accent-gold: #D4AF37;
    --text-main: #f0f0f0;
    --font-head: 'Playfair Display', serif;
    --font-body: 'Poppins', sans-serif;
}

body {
    margin: 0; padding: 0;
    font-family: var(--font-body);
    background-color: var(--bg-dark);
    color: var(--text-main);
    overflow: hidden;
    height: 100vh; width: 100vw;
}

/* --- ARKA PLAN KATMANLARI --- */
#canvas-container {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: 0;
    background: radial-gradient(circle at bottom, #100515 0%, #000000 100%);
    transition: background 1.5s ease; /* Renk geçişleri yumuşak olsun */
}
canvas { display: block; }

/* --- NAVİGASYON --- */
nav {
    position: fixed; top: 0; width: 100%; padding: 30px;
    display: flex; justify-content: center; gap: 60px; z-index: 100;
}
nav a {
    text-decoration: none; color: #ccc; font-family: var(--font-head);
    font-weight: 700; text-transform: uppercase; letter-spacing: 2px;
    font-size: 14px; position: relative; opacity: 0.8; transition: 0.3s;
}
nav a:hover { opacity: 1; color: var(--accent-gold); text-shadow: 0 0 10px rgba(212, 175, 55, 0.5); }

/* --- MODAL (HAKKINDA) --- */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.95); backdrop-filter: blur(15px);
    z-index: 2000; display: none; justify-content: center; align-items: center;
    opacity: 0; transition: opacity 0.5s ease;
}
.modal-overlay.open { display: flex; opacity: 1; }
.about-card {
    background: linear-gradient(145deg, #111, #0a0a0a); 
    border: 1px solid var(--accent-gold); padding: 60px; border-radius: 4px;
    text-align: center; max-width: 600px; width: 90%;
    transform: scale(0.95) translateY(20px); transition: all 0.5s ease;
    box-shadow: 0 30px 60px rgba(212, 175, 55, 0.15);
}
.modal-overlay.open .about-card { transform: scale(1) translateY(0); }
.about-title { font-family: var(--font-head); font-size: 32px; color: var(--accent-gold); margin-bottom: 20px; font-style: italic; }
.about-divider { width: 60px; height: 2px; background: var(--accent-gold); margin: 0 auto 30px; }
.about-text { color: #ccc; font-size: 16px; line-height: 1.8; }
.close-modal { position: absolute; top: 20px; right: 25px; font-size: 30px; cursor: pointer; color: var(--accent-gold); transition:0.3s;}
.close-modal:hover { transform: rotate(90deg); }

/* --- EKRANLAR (SCREENS) --- */
.screen {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: none; flex-direction: column; justify-content: center; align-items: center;
    z-index: 10; opacity: 0; transition: opacity 0.8s ease;
}
.screen.active { display: flex; opacity: 1; }

/* --- 1. WELCOME SCREEN --- */
.welcome-panel {
    text-align: center; max-width: 800px;
    opacity: 0; animation: fadeInFixed 1.5s ease forwards;
}
@keyframes fadeInFixed { to { opacity: 1; } }

/* 3D ŞİŞE TASARIMI */
.bottle-wrapper {
    width: 120px; height: 160px; margin: 0 auto 40px;
    position: relative; perspective: 800px;
}
.bottle {
    width: 100%; height: 100%; position: relative;
    transform-style: preserve-3d; transition: transform 0.1s ease-out;
}
.b-cap {
    width: 80px; height: 35px; background: linear-gradient(135deg, #fff 0%, #d4af37 100%);
    margin: 0 auto 5px; border-radius: 2px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.8);
}
.b-body {
    width: 120px; height: 120px;
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    border: 1px solid rgba(255,255,255,0.4); border-radius: 4px; /* Köşeli lüks */
    box-shadow: inset 0 0 30px rgba(255,215,0,0.15), 0 20px 50px rgba(0,0,0,0.8);
    position: relative; overflow: hidden;
    display: flex; justify-content: center; align-items: center;
}
.liquid {
    position: absolute; bottom: 0; left: 0; width: 100%; height: 60%;
    background: linear-gradient(to top, #d4af37, #f9d77e);
    opacity: 0.85; animation: wave 4s infinite ease-in-out;
}
.shine {
    position: absolute; top: 10px; right: 10px; width: 20px; height: 60px;
    background: linear-gradient(to bottom, rgba(255,255,255,0.8), transparent);
    transform: skewX(-20deg); opacity: 0.3;
}
@keyframes wave { 0%,100%{transform: skewY(0deg);} 50%{transform: skewY(2deg);} }

.main-title {
    font-family: var(--font-head); font-size: 5rem; color: var(--accent-gold);
    margin: 0; line-height: 1; letter-spacing: -2px;
    text-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
}
.subtitle {
    font-size: 1.2rem; color: #ccc; margin: 20px 0 40px; letter-spacing: 1px; font-weight: 300;
}

.btn-group { display: flex; gap: 20px; justify-content: center; }
.btn-start {
    padding: 20px 50px; background: rgba(0,0,0,0.3);
    border: 1px solid var(--accent-gold); color: var(--accent-gold);
    font-family: var(--font-head); font-size: 16px; letter-spacing: 2px;
    cursor: pointer; transition: all 0.3s; position: relative; overflow: hidden;
}
.btn-start:hover { background: var(--accent-gold); color: #000; box-shadow: 0 0 30px var(--accent-gold); }

/* --- 2. GAME SCREEN --- */
.story-container {
    width: 100%; max-width: 700px;
    background: rgba(20, 10, 30, 0.85);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255,215,0,0.2);
    padding: 60px; border-radius: 4px;
    box-shadow: 0 50px 100px rgba(0,0,0,0.8);
    text-align: center; position: relative;
    transform: translateY(20px); animation: slideUp 0.5s forwards;
}
@keyframes slideUp { to { transform: translateY(0); } }

.progress-container { width: 100%; height: 2px; background: #333; position: absolute; top: 0; left: 0; }
.progress-bar {
    height: 100%; background: var(--accent-gold);
    width: 0%; transition: width 0.5s ease;
    box-shadow: 0 0 10px var(--accent-gold);
}
.story-text {
    font-family: var(--font-head); font-size: 26px; line-height: 1.4;
    color: #fff; margin-bottom: 40px; min-height: 80px;
    transition: opacity 0.3s;
}
.opt-btn {
    display: block; width: 100%; padding: 20px; margin-bottom: 15px;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.05) 50%, transparent 100%);
    border: 1px solid rgba(255,255,255,0.1); color: #ccc;
    font-family: var(--font-body); font-size: 16px; text-align: center;
    cursor: pointer; transition: 0.3s;
}
.opt-btn:hover { border-color: var(--accent-gold); color: var(--accent-gold); transform: scale(1.02); background: rgba(255,215,0,0.1); }

/* --- 3. RESULT SCREEN --- */
.result-card {
    display: flex; gap: 50px; align-items: center;
    background: rgba(10, 5, 15, 0.95); padding: 50px;
    border: 1px solid var(--accent-gold); max-width: 1000px; width: 90%;
    box-shadow: 0 0 100px rgba(212, 175, 55, 0.2);
}
.res-img-wrapper { flex: 1; display: flex; justify-content: center; }
.res-img { max-height: 400px; filter: drop-shadow(0 20px 40px #000); transform: rotateY(-10deg); transition: 0.5s; }
.res-img:hover { transform: rotateY(0deg) scale(1.05); }

.res-info { flex: 1.5; text-align: left; }
.res-brand { color: var(--accent-gold); font-size: 14px; letter-spacing: 4px; display:block; margin-bottom:10px; text-transform: uppercase;}
.res-name { font-family: var(--font-head); font-size: 48px; margin: 0 0 20px; line-height:1; color: #fff; }
.res-desc { color: #aaa; margin-bottom: 30px; font-size:15px; line-height: 1.6; }
.notes-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; border-top:1px solid #333; padding-top:20px; }
.note span { display:block; color:var(--accent-gold); font-size:12px; margin-bottom:5px; letter-spacing: 1px; }
.note div { color: #ddd; font-size: 14px; }

@media (max-width: 768px) {
    .result-card { flex-direction: column; padding: 20px; }
    .res-img { max-height: 250px; }
    .main-title { font-size: 3.5rem; }
    .story-container { width: 90%; padding: 30px; }
}
